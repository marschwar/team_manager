- if @team
  %h1= t('.headline_team', name: @team.name)
- else
  %h1= t('.headline')

- unless @players.empty?
  - if can? :create, Player
    .actions
      = link_to t('.actions.new'), new_player_path, class: 'btn btn-default'
    %br

  %table.table.table-striped
    %thead
      %tr
        %th #
        %th= Player.human_attribute_name('last_name')
        %th= Player.human_attribute_name('first_name')
        %th= Player.human_attribute_name('position')
        %th= Player.human_attribute_name('year_class') 
    %tfoot
      %tr
        %td{colspan: 5}= t('.player_count', count: @players.count)

    %tbody
      - @players.each do |player|
        %tr
          %td= player.number
          %td= link_to player.last_name, player_path(player)
          %td= player.first_name
          %td= player.position
          %td= year_class_element(player)

%br
.actions
  - if can? :create, Player
    = link_to t('.actions.new'), new_player_path, class: 'btn btn-default'

- if can? :create, Player
  %h2= t('.upload.headline')
  %p.muted= t('.upload.instructions_html')
  = form_tag players_upload_path, class: 'form-inline', multipart: true do
    .form-group
      = label_tag :team_id
      = collection_select :upload, :team_id, @all_teams, :id, :name, {prompt: t('.upload.prompt'), selected: @team ? @team.id : nil }, {class: 'form-control'}
      = label_tag 'upload[file]', 'File'
      = file_field_tag 'upload[file]', :class => 'form-control'
      = submit_tag t('.actions.upload'), class: 'btn btn-default'
